From 9b1a4c44f62a41bc8a35c76539d2fda2a674ac41 Mon Sep 17 00:00:00 2001
From: Samuel Holland <samuel@sholland.org>
Date: Thu, 18 Oct 2018 09:32:32 +0200
Subject: [PATCH 03/11] Switch musl targets to link dynamically by default

---
 src/librustc_target/spec/linux_musl_base.rs | 2 --
 1 file changed, 2 deletions(-)

diff --git a/src/librustc_target/spec/linux_musl_base.rs b/src/librustc_target/spec/linux_musl_base.rs
index b512af9b5..7581a64b1 100644
--- a/src/librustc_target/spec/linux_musl_base.rs
+++ b/src/librustc_target/spec/linux_musl_base.rs
@@ -44,8 +44,6 @@ pub fn opts() -> TargetOptions {
     base.pre_link_args.get_mut(&LinkerFlavor::Gcc).unwrap().push("-Wl,-(".to_string());
     base.post_link_args.insert(LinkerFlavor::Gcc, vec!["-Wl,-)".to_string()]);
 
-    // These targets statically link libc by default
-    base.crt_static_default = true;
     // These targets allow the user to choose between static and dynamic linking.
     base.crt_static_respected = true;
 
-- 
2.19.1

